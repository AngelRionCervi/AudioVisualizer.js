<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Audio Visualizer</title>

    <script type="text/javascript" src="index.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        html,
        body {
            overflow: hidden;
        }
    </style>
</head>

<body>
    <canvas id="renderer"></canvas>

    <script>
        let config = {
            width: 800,
            height: 600,
            barNbr: 40,
            barWidth: 10,
            minBarHeight: 0,
            maxBarHeight: 50000,
            barHeightMult: 0.6,
            barBorderRadius: 5,
            gradientRadiusMultiplier: 2,
            doubleBorderRadius: true,
            backgroundColor: "#000000",
            type: "circular",
            barColorType: "gradient",
            gradientRadius: 'barSize',
            mainColorChannel: "red",
            mainColorChannelValue: 200,
            colorFrequencyMultiplier: 1.3,
            gradientColors: ['white', 'yellow', 'orange', 'red', 'purple'],
            freqRange: [100, 200], //0 -> 2048
            circularType: {
                radius: 80,
                innerCircleReact: false,
                innerCircleMult: 0.5,
                skipNull: false,
            }
        }

        const visualizer = new CircularType(document.getElementById('renderer'), "audio/Canon.flac", config);


        document.addEventListener('click', () => {

            if (typeof CanvasRenderingContext2D !== 'undefined') {

                CanvasRenderingContext2D.prototype.lineToAngle =
                    function (x1, y1, length, angle) {

                        

                        var x2 = x1 + length * Math.cos(angle),
                            y2 = y1 + length * Math.sin(angle);

                        return { x: x2, y: y2 };
                    }
            }


            visualizer.init();
        })
    </script>
</body>

</html>